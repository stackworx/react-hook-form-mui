import{x as R,_ as V,j as u,b as re,g as te,s as F,e as ae,h as ie,y as ne,u as le,z as U,a as ce,A as ue,F as me,S as pe}from"./Form-9h973bRF.js";import{_ as a}from"./isNativeReflectConstruct-CJAgTEKr.js";import{r as C}from"./index-CTjT7uj6.js";import{q as de,s as be,f as fe,g as A,h as Te,i as Pe,j as he,k as ke,P as ve,u as S,a as _,t as xe,v as g,w as q,c as ge,x as W,y as ye,l as X,m as Me,n as Y,o as Ce,p as De,D as we}from"./useMobilePicker-CP5avolP.js";import{P as e}from"./index-BzjuzjN8.js";import{T as G,u as je,b as Oe,r as J}from"./TextField-BTNwFpoD.js";import{v as E,P as Re,a as y,r as Fe,b as B,c as Se,d as I}from"./timeViewRenderers-qc_tj4VT.js";import"./Typography-C7tPPUg0.js";import"./Chip-BueNN8uZ.js";import"./react-is.production.min-Fw4xaesh.js";import"./createSvgIcon-CnjQR2ig.js";import"./isMuiElement-rO2Aaa3t.js";import"./useFormControl-B9FSkLKA.js";import"./FormControl-DlfChQla.js";import"./formControlState-Dq1zat_P.js";import"./index-CYM-y3Gt.js";import"./MenuItem-7_tQ0vFv.js";import"./colorManipulator-CUqSyKYb.js";const Le=t=>{const o=de(t),{forwardedProps:n,internalProps:s}=be(o,"time");return fe({forwardedProps:n,internalProps:s,valueManager:A,fieldValueManager:Te,validator:E,valueType:"time"})},Ie=["slots","slotProps","InputProps","inputProps"],Z=C.forwardRef(function(o,n){const s=R({props:o,name:"MuiTimeField"}),{slots:i,slotProps:r,InputProps:d,inputProps:p}=s,b=V(s,Ie),l=s,m=(i==null?void 0:i.textField)??(o.enableAccessibleFieldDOMStructure?Pe:G),c=je({elementType:m,externalSlotProps:r==null?void 0:r.textField,externalForwardedProps:b,ownerState:l,additionalProps:{ref:n}});c.inputProps=a({},p,c.inputProps),c.InputProps=a({},d,c.InputProps);const f=Le(c),T=he(f),P=ke(a({},T,{slots:i,slotProps:r}));return u.jsx(m,a({},P))});function Ve(t){return te("MuiTimePickerToolbar",t)}const M=re("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Ae=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly","className"],_e=t=>{const{isLandscape:o,classes:n,isRtl:s}=t;return ie({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",o&&"hourMinuteLabelLandscape",s&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",o&&"ampmLandscape"],ampmLabel:["ampmLabel"]},Ve,n)},Ee=F(ve,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(t,o)=>o.root})({}),Ne=F(Re,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(t,o)=>o.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),$e=F("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(t,o)=>[{[`&.${M.hourMinuteLabelLandscape}`]:o.hourMinuteLabelLandscape,[`&.${M.hourMinuteLabelReverse}`]:o.hourMinuteLabelReverse},o.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{isLandscape:!0},style:{marginTop:"auto"}}]}),ze=F("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,o)=>[{[`.${M.ampmLabel}`]:o.ampmLabel},{[`&.${M.ampmLandscape}`]:o.ampmLandscape},o.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${M.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function Ue(t){const o=R({props:t,name:"MuiTimePickerToolbar"}),{ampm:n,ampmInClock:s,value:i,isLandscape:r,onChange:d,view:p,onViewChange:b,views:l,disabled:m,readOnly:c,className:f}=o,T=V(o,Ae),P=S(),D=_(),L=Oe(),w=!!(n&&!s&&l.includes("hours")),{meridiemMode:v,handleMeridiemChange:x}=xe(i,n,d),j=z=>n?P.format(z,"hours12h"):P.format(z,"hours24h"),k=a({},o,{isRtl:L}),h=_e(k),$=u.jsx(Ne,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:h.separator});return u.jsxs(Ee,a({landscapeDirection:"row",toolbarTitle:D.timePickerToolbarTitle,isLandscape:r,ownerState:k,className:ae(h.root,f)},T,{children:[u.jsxs($e,{className:h.hourMinuteLabel,ownerState:k,children:[g(l,"hours")&&u.jsx(y,{tabIndex:-1,variant:"h3",onClick:()=>b("hours"),selected:p==="hours",value:i?j(i):"--"}),g(l,["hours","minutes"])&&$,g(l,"minutes")&&u.jsx(y,{tabIndex:-1,variant:"h3",onClick:()=>b("minutes"),selected:p==="minutes",value:i?P.format(i,"minutes"):"--"}),g(l,["minutes","seconds"])&&$,g(l,"seconds")&&u.jsx(y,{variant:"h3",onClick:()=>b("seconds"),selected:p==="seconds",value:i?P.format(i,"seconds"):"--"})]}),w&&u.jsxs(ze,{className:h.ampmSelection,ownerState:k,children:[u.jsx(y,{disableRipple:!0,variant:"subtitle2",selected:v==="am",typographyClassName:h.ampmLabel,value:q(P,"am"),onClick:c?void 0:()=>x("am"),disabled:m}),u.jsx(y,{disableRipple:!0,variant:"subtitle2",selected:v==="pm",typographyClassName:h.ampmLabel,value:q(P,"pm"),onClick:c?void 0:()=>x("pm"),disabled:m})]})]}))}function ee(t,o){var d;const n=S(),s=R({props:t,name:o}),i=s.ampm??n.is12HourCycleInCurrentLocale(),r=C.useMemo(()=>{var p;return((p=s.localeText)==null?void 0:p.toolbarTitle)==null?s.localeText:a({},s.localeText,{timePickerToolbarTitle:s.localeText.toolbarTitle})},[s.localeText]);return a({},s,{ampm:i,localeText:r},ge({views:s.views,openTo:s.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:s.disableFuture??!1,disablePast:s.disablePast??!1,slots:a({toolbar:Ue},s.slots),slotProps:a({},s.slotProps,{toolbar:a({ampm:i,ampmInClock:s.ampmInClock},(d=s.slotProps)==null?void 0:d.toolbar)})})}const oe=C.forwardRef(function(o,n){var w,v,x,j;const s=_(),i=S(),r=ee(o,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:d,views:p,timeSteps:b}=Fe(r),l=d?Se:B,m=a({hours:l,minutes:l,seconds:l,meridiem:l},r.viewRenderers),c=r.ampmInClock??!0,f=d?[]:["accept"],P=((w=m.hours)==null?void 0:w.name)===B.name?p:p.filter(k=>k!=="meridiem"),D=a({},r,{ampmInClock:c,timeSteps:b,viewRenderers:m,format:W(i,r),views:d?["hours"]:P,slots:a({field:Z,openPickerIcon:ye},r.slots),slotProps:a({},r.slotProps,{field:k=>{var h;return a({},J((h=r.slotProps)==null?void 0:h.field,k),X(r),{ref:n})},toolbar:a({hidden:!0,ampmInClock:c},(v=r.slotProps)==null?void 0:v.toolbar),actionBar:a({actions:f},(x=r.slotProps)==null?void 0:x.actionBar)})}),{renderPicker:L}=Me({props:D,valueManager:A,valueType:"time",getOpenDialogAriaText:((j=D.localeText)==null?void 0:j.openTimePickerDialogue)??s.openTimePickerDialogue,validator:E});return L()});oe.propTypes={ampm:e.bool,ampmInClock:e.bool,autoFocus:e.bool,className:e.string,closeOnSelect:e.bool,defaultValue:e.object,disabled:e.bool,disableFuture:e.bool,disableIgnoringDatePartForTimeValidation:e.bool,disableOpenPicker:e.bool,disablePast:e.bool,enableAccessibleFieldDOMStructure:e.any,format:e.string,formatDensity:e.oneOf(["dense","spacious"]),inputRef:Y,label:e.node,localeText:e.object,maxTime:e.object,minTime:e.object,minutesStep:e.number,name:e.string,onAccept:e.func,onChange:e.func,onClose:e.func,onError:e.func,onOpen:e.func,onSelectedSectionsChange:e.func,onViewChange:e.func,open:e.bool,openTo:e.oneOf(["hours","meridiem","minutes","seconds"]),orientation:e.oneOf(["landscape","portrait"]),readOnly:e.bool,reduceAnimations:e.bool,referenceDate:e.object,selectedSections:e.oneOfType([e.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),e.number]),shouldDisableTime:e.func,skipDisabled:e.bool,slotProps:e.object,slots:e.object,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object]),thresholdToRenderTimeInASingleColumn:e.number,timeSteps:e.shape({hours:e.number,minutes:e.number,seconds:e.number}),timezone:e.string,value:e.object,view:e.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:e.shape({hours:e.func,meridiem:e.func,minutes:e.func,seconds:e.func}),views:e.arrayOf(e.oneOf(["hours","minutes","seconds"]).isRequired)};const se=C.forwardRef(function(o,n){var m,c;const s=_(),i=S(),r=ee(o,"MuiMobileTimePicker"),d=a({hours:I,minutes:I,seconds:I},r.viewRenderers),p=r.ampmInClock??!1,b=a({},r,{ampmInClock:p,viewRenderers:d,format:W(i,r),slots:a({field:Z},r.slots),slotProps:a({},r.slotProps,{field:f=>{var T;return a({},J((T=r.slotProps)==null?void 0:T.field,f),X(r),{ref:n})},toolbar:a({hidden:!1,ampmInClock:p},(m=r.slotProps)==null?void 0:m.toolbar)})}),{renderPicker:l}=Ce({props:b,valueManager:A,valueType:"time",getOpenDialogAriaText:((c=b.localeText)==null?void 0:c.openTimePickerDialogue)??s.openTimePickerDialogue,validator:E});return l()});se.propTypes={ampm:e.bool,ampmInClock:e.bool,autoFocus:e.bool,className:e.string,closeOnSelect:e.bool,defaultValue:e.object,disabled:e.bool,disableFuture:e.bool,disableIgnoringDatePartForTimeValidation:e.bool,disableOpenPicker:e.bool,disablePast:e.bool,enableAccessibleFieldDOMStructure:e.any,format:e.string,formatDensity:e.oneOf(["dense","spacious"]),inputRef:Y,label:e.node,localeText:e.object,maxTime:e.object,minTime:e.object,minutesStep:e.number,name:e.string,onAccept:e.func,onChange:e.func,onClose:e.func,onError:e.func,onOpen:e.func,onSelectedSectionsChange:e.func,onViewChange:e.func,open:e.bool,openTo:e.oneOf(["hours","minutes","seconds"]),orientation:e.oneOf(["landscape","portrait"]),readOnly:e.bool,reduceAnimations:e.bool,referenceDate:e.object,selectedSections:e.oneOfType([e.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),e.number]),shouldDisableTime:e.func,slotProps:e.object,slots:e.object,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object]),timezone:e.string,value:e.object,view:e.oneOf(["hours","minutes","seconds"]),viewRenderers:e.shape({hours:e.func,minutes:e.func,seconds:e.func}),views:e.arrayOf(e.oneOf(["hours","minutes","seconds"]).isRequired)};const qe=["desktopModeMediaQuery"],Be=C.forwardRef(function(o,n){const s=R({props:o,name:"MuiTimePicker"}),{desktopModeMediaQuery:i=we}=s,r=V(s,qe);return De(i,{defaultMatches:!0})?u.jsx(oe,a({ref:n},r)):u.jsx(se,a({ref:n},r))});function N({name:t,rules:o,...n}){const{setError:s,clearErrors:i,control:r}=ne(),{field:{onChange:d,value:p,ref:b},fieldState:l}=le({name:t,control:r,rules:o});return u.jsx(Be,{...n,onChange:d,value:p,onError:(m,c)=>{switch(console.log(m,c),m){case"invalidDate":s(t,{type:"value",message:""});break;case"minutesStep":break;case"maxTime":s(t,{type:"max",message:`Date should not be after ${U(n.maxDate,"P")}`});break;case"minTime":s(t,{type:"min",message:`Date should not be before ${U(n.minDate,"P")}`});break;case"shouldDisableTime-hours":case"shouldDisableTime-minutes":case"shouldDisableTime-seconds":break;default:i(t)}},renderInput:({helperText:m,error:c,...f})=>{var T;return console.log(m,c,l,f),u.jsx(G,{name:t,inputRef:b,error:c&&!!l.error,helperText:m??(l.isTouched&&((T=l.error)==null?void 0:T.message)),...f})}})}N.__docgenInfo={description:"",methods:[],displayName:"TimePicker",props:{name:{required:!0,tsType:{name:"Path",elements:[{name:"TFieldValues"}],raw:"Path<TFieldValues>"},description:""},rules:{required:!1,tsType:{name:"RegisterOptions"},description:""}},composes:["Omit"]};const uo={title:"X-Mui/TimePicker",component:N,parameters:{layout:"fullscreen"},argTypes:{onSubmit:{action:"submit"}}},He=t=>{const o=ce({defaultValues:{picker:null}});return u.jsx(ue,{...o,children:u.jsx(me,{...o,onSubmit:t.onSubmit,children:u.jsx(pe,{children:u.jsx(N,{name:"picker",label:"Date Picker",rules:{required:!0},...t})})})})},O={render:He,args:{label:"Default"}};var H,Q,K;O.parameters={...O.parameters,docs:{...(H=O.parameters)==null?void 0:H.docs,source:{originalSource:`{
  render: Template,
  args: {
    label: 'Default'
  }
}`,...(K=(Q=O.parameters)==null?void 0:Q.docs)==null?void 0:K.source}}};const mo=["Default"];export{O as Default,mo as __namedExportsOrder,uo as default};
